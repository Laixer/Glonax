[Unit]
Description=Glonax Electronic Control Unit Proxy
StartLimitIntervalSec=5
StartLimitBurst=5
Wants=sys-subsystem-net-devices-%i.device
After=sys-subsystem-net-devices-%i.device

[Service]
WorkingDirectory=/var/lib/glonax
Restart=always
RestartSec=2
Nice=-15
ProtectSystem=strict
NoNewPrivileges=true
ExecCondition=/usr/lib/systemd/systemd-networkd-wait-online -i %I -o carrier
ExecStart=/usr/local/bin/glonax-ecud --daemon --workers 4 %I
PrivateTmp=true

[Install]
WantedBy=multi-user.target
